(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{460:function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(461);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(8)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvUm91bGV0dGVQYW5lbC5zY3NzPzQ4NmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGNBQWMsbUJBQU8sQ0FBQyxHQUFzRzs7QUFFNUgsNENBQTRDLFFBQVM7O0FBRXJEO0FBQ0E7Ozs7QUFJQSxlQUFlOztBQUVmO0FBQ0E7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLENBQWdEOztBQUVyRTs7QUFFQSxHQUFHLEtBQVUsRUFBRSIsImZpbGUiOiI0NjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9Sb3VsZXR0ZVBhbmVsLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vUm91bGV0dGVQYW5lbC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9Sb3VsZXR0ZVBhbmVsLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///460\n")},461:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(7)(false);\n// imports\n\n\n// module\nexports.push([module.i, ".guessingContent {\\n  padding-left: 0.5em; }\\n  .guessingContent button {\\n    display: inline-block;\\n    margin: 1em; }\\n", ""]);\n\n// exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvUm91bGV0dGVQYW5lbC5zY3NzP2U0ZmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkJBQTJCLG1CQUFPLENBQUMsQ0FBNEM7QUFDL0U7OztBQUdBO0FBQ0EsY0FBYyxRQUFTLHFCQUFxQix3QkFBd0IsRUFBRSw2QkFBNkIsNEJBQTRCLGtCQUFrQixFQUFFOztBQUVuSiIsImZpbGUiOiI0NjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5ndWVzc2luZ0NvbnRlbnQge1xcbiAgcGFkZGluZy1sZWZ0OiAwLjVlbTsgfVxcbiAgLmd1ZXNzaW5nQ29udGVudCBidXR0b24ge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG1hcmdpbjogMWVtOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///461\n')},64:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(1));\n\nvar _axios = _interopRequireDefault(__webpack_require__(11));\n\nvar _lodash = _interopRequireDefault(__webpack_require__(459));\n\n__webpack_require__(460);\n\nvar _fontsAndThemes = __webpack_require__(23);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar all_theme_names = _fontsAndThemes.Themes;\nvar all_font_names = _fontsAndThemes.Fonts;\nvar get_user_profile_url = \'/get_user_profile\';\nvar update_user_profile_url = \'/update_balance_and_items\';\nvar update_success_msg = \'Success\';\nvar theme_pool_entrance_limit = 100;\nvar font_pool_entrance_limit = 10;\n\nvar random_items = function random_items(arr, num) {\n  return _lodash.default.shuffle(arr).slice(0, num);\n};\n\nvar FontPool =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(FontPool, _React$PureComponent);\n\n  function FontPool(props) {\n    var _this;\n\n    _classCallCheck(this, FontPool);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FontPool).call(this, props));\n    _this.state = {\n      showListclicked: false,\n      is_1_clicked: false,\n      is_10_clicked: false,\n      items_chosen: []\n    };\n    return _this;\n  }\n\n  _createClass(FontPool, [{\n    key: "getCurrentPool",\n    value: function getCurrentPool() {\n      var existing_items = new Set(this.props.existing_items);\n      return all_font_names.filter(function (item) {\n        return !existing_items.has(item);\n      });\n    }\n  }, {\n    key: "handleButtonClick",\n    value: function handleButtonClick(is_1) {\n      var current_balance = this.props.balance;\n\n      if (is_1 && current_balance < font_pool_entrance_limit) {\n        return;\n      }\n\n      if (!is_1 && current_balance < font_pool_entrance_limit * 10) {\n        return;\n      }\n\n      var items = [];\n\n      if (is_1) {\n        items = random_items(this.getCurrentPool(), 1);\n        this.setState({\n          is_1_clicked: true,\n          is_10_clicked: false,\n          items_chosen: items\n        });\n        this.props.updating_storage(items, current_balance - font_pool_entrance_limit);\n      } else {\n        items = random_items(this.getCurrentPool(), 10);\n        this.setState({\n          is_1_clicked: false,\n          is_10_clicked: true,\n          items_chosen: items\n        });\n        this.props.updating_storage(items, current_balance - font_pool_entrance_limit * 10);\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this2 = this;\n\n      var display_arr = this.getCurrentPool().map(function (item) {\n        return _react.default.createElement("li", null, _react.default.createElement("span", null, item));\n      });\n      var random_arr = this.state.items_chosen.map(function (item) {\n        return _react.default.createElement("li", null, _react.default.createElement("span", null, item));\n      });\n      return _react.default.createElement("div", null, _react.default.createElement("h3", null, "Here is the pool for fonts"), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this2.setState({\n            showListclicked: !_this2.state.showListclicked\n          });\n        }\n      }, "Show List"), this.state.showListclicked ? _react.default.createElement("section", null, _react.default.createElement("ul", null, display_arr)) : null, _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this2.handleButtonClick(true);\n        }\n      }, "*1"), this.state.is_1_clicked ? _react.default.createElement("section", null, _react.default.createElement("h4", null, "Congratuations! You have unlocked"), _react.default.createElement("ul", null, random_arr)) : null, _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this2.handleButtonClick(false);\n        }\n      }, "*10"), this.state.is_10_clicked ? _react.default.createElement("section", null, _react.default.createElement("h4", null, "Congratuations! You have unlocked"), _react.default.createElement("ul", null, random_arr)) : null);\n    }\n  }]);\n\n  return FontPool;\n}(_react.default.PureComponent);\n\nvar ThemePool =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(ThemePool, _React$PureComponent2);\n\n  function ThemePool(props) {\n    var _this3;\n\n    _classCallCheck(this, ThemePool);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(ThemePool).call(this, props));\n    _this3.state = {\n      showListclicked: false,\n      is_1_clicked: false,\n      is_10_clicked: false,\n      items_chosen: []\n    };\n    return _this3;\n  }\n\n  _createClass(ThemePool, [{\n    key: "getCurrentPool",\n    value: function getCurrentPool() {\n      var existing_items = new Set(this.props.existing_items);\n      return all_theme_names.filter(function (item) {\n        return !existing_items.has(item);\n      });\n    }\n  }, {\n    key: "handleButtonClick",\n    value: function handleButtonClick(is_1) {\n      var current_balance = this.props.balance;\n\n      if (is_1 && current_balance < theme_pool_entrance_limit) {\n        return;\n      }\n\n      if (!is_1 && current_balance < theme_pool_entrance_limit * 10) {\n        return;\n      }\n\n      var items = [];\n\n      if (is_1) {\n        items = random_items(this.getCurrentPool(), 1);\n        this.setState({\n          is_1_clicked: true,\n          is_10_clicked: false,\n          items_chosen: items\n        });\n        this.props.updating_storage(items, current_balance - theme_pool_entrance_limit);\n      } else {\n        items = random_items(this.getCurrentPool(), 10);\n        this.setState({\n          is_1_clicked: false,\n          is_10_clicked: true,\n          items_chosen: items\n        });\n        this.props.updating_storage(items, current_balance - theme_pool_entrance_limit * 10);\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this4 = this;\n\n      var current_balance = this.props.balance;\n\n      if (current_balance < theme_pool_entrance_limit) {\n        return _react.default.createElement("section", null, _react.default.createElement("h3", null, "Your balance is not enough for theme pool!"));\n      }\n\n      var display_arr = this.getCurrentPool().map(function (item) {\n        return _react.default.createElement("li", null, _react.default.createElement("span", null, item));\n      });\n      var random_arr = this.state.items_chosen.map(function (item) {\n        return _react.default.createElement("li", null, _react.default.createElement("span", null, item));\n      });\n      return _react.default.createElement("div", null, _react.default.createElement("h3", null, "Here is the pool for themes"), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this4.setState({\n            showListclicked: !_this4.state.showListclicked\n          });\n        }\n      }, "Show List"), this.state.showListclicked ? _react.default.createElement("section", null, _react.default.createElement("ul", null, display_arr)) : null, _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this4.handleButtonClick(true);\n        }\n      }, "*1"), this.state.is_1_clicked ? _react.default.createElement("section", null, _react.default.createElement("h4", null, "Congratuations! You have unlocked"), _react.default.createElement("ul", null, random_arr)) : null, _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this4.handleButtonClick(false);\n        }\n      }, "*10"), this.state.is_10_clicked ? _react.default.createElement("section", null, _react.default.createElement("h4", null, "Congratuations! You have unlocked"), _react.default.createElement("ul", null, random_arr)) : null);\n    }\n  }]);\n\n  return ThemePool;\n}(_react.default.PureComponent);\n\nvar EBucksDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EBucksDisplay, _Component);\n\n  function EBucksDisplay() {\n    _classCallCheck(this, EBucksDisplay);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EBucksDisplay).apply(this, arguments));\n  }\n\n  _createClass(EBucksDisplay, [{\n    key: "render",\n    value: function render() {\n      return _react.default.createElement("section", null, _react.default.createElement("h3", null, "Your current balance is:"), _react.default.createElement("div", null, this.props.balance));\n    }\n  }]);\n\n  return EBucksDisplay;\n}(_react.Component);\n\nvar RoulettePanel =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(RoulettePanel, _Component2);\n\n  function RoulettePanel(props) {\n    var _this5;\n\n    _classCallCheck(this, RoulettePanel);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(RoulettePanel).call(this, props));\n    _this5.state = {\n      balance: 0,\n      existing_items: []\n    };\n    return _this5;\n  }\n\n  _createClass(RoulettePanel, [{\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      var _this6 = this;\n\n      var user = this.props.user;\n\n      _axios.default.get(get_user_profile_url, {\n        params: {\n          username: user\n        }\n      }).then(function (response) {\n        _this6.setState({\n          balance: response.data.eBucks,\n          existing_items: response.data.items\n        });\n      });\n    }\n  }, {\n    key: "updateStorage",\n    value: function updateStorage(newItem, newBalance) {\n      var _this7 = this;\n\n      var user = this.props.user;\n\n      _axios.default.post(update_user_profile_url, {\n        username: user,\n        new_items: newItem,\n        new_balance: newBalance\n      }).then(function (response) {\n        if (response.data === update_success_msg) {\n          var prev_items = _this7.state.existing_items.slice();\n\n          if (Array.isArray(newItem)) {\n            prev_items.push.apply(prev_items, _toConsumableArray(newItem));\n          } else {\n            prev_items.push(newItem);\n          }\n\n          _this7.setState({\n            existing_items: prev_items,\n            balance: newBalance\n          });\n        }\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this8 = this;\n\n      var balance = this.state.balance;\n\n      if (balance < font_pool_entrance_limit) {\n        return _react.default.createElement("section", null, _react.default.createElement("h3", null, "Your balance is not enough!"));\n      }\n\n      return _react.default.createElement("div", {\n        className: \'guessingContent\'\n      }, _react.default.createElement(EBucksDisplay, {\n        balance: balance\n      }), _react.default.createElement(FontPool, {\n        balance: balance,\n        existing_items: this.state.existing_items,\n        updating_storage: function updating_storage(newItem, newBalance) {\n          return _this8.updateStorage(newItem, newBalance);\n        }\n      }), _react.default.createElement(ThemePool, {\n        balance: balance,\n        existing_items: this.state.existing_items,\n        updating_storage: function updating_storage(newItem, newBalance) {\n          return _this8.updateStorage(newItem, newBalance);\n        }\n      }));\n    }\n  }]);\n\n  return RoulettePanel;\n}(_react.Component);\n\nexports.default = RoulettePanel;\n\n//# sourceMappingURL=RoulettePanel.js.map\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL1JvdWxldHRlUGFuZWwuanM/ZTFlNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLHFDQUFxQyxtQkFBTyxDQUFDLENBQU87O0FBRXBELG9DQUFvQyxtQkFBTyxDQUFDLEVBQU87O0FBRW5ELHFDQUFxQyxtQkFBTyxDQUFDLEdBQVE7O0FBRXJELG1CQUFPLENBQUMsR0FBOEI7O0FBRXRDLHNCQUFzQixtQkFBTyxDQUFDLEVBQWtCOztBQUVoRCxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0YsdUNBQXVDLDZCQUE2QixZQUFZLEVBQUUsT0FBTyxpQkFBaUIsbUJBQW1CLHVCQUF1QixzREFBc0Qsc0hBQXNILDRCQUE0QiwwQ0FBMEMsRUFBRSxPQUFPLHdCQUF3QixFQUFFLEVBQUUsRUFBRSxFQUFFLHNCQUFzQixlQUFlLEVBQUU7O0FBRXRkLGtDQUFrQyxpRkFBaUY7O0FBRW5ILCtCQUErQix3RUFBd0U7O0FBRXZHLGlDQUFpQywrSEFBK0g7O0FBRWhLLGtDQUFrQywwQkFBMEIsOENBQThDLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsRUFBRTs7QUFFcEssdUJBQXVCLDJFQUEyRSxrQ0FBa0MsbUJBQW1CLEdBQUcsRUFBRSxPQUFPLGtDQUFrQyw4SEFBOEgsR0FBRyxFQUFFLHFCQUFxQjs7QUFFN1YsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFck4saURBQWlELDBFQUEwRSxhQUFhLEVBQUUscUNBQXFDOztBQUUvSyx1Q0FBdUMsdUJBQXVCLHVGQUF1RixFQUFFLGFBQWE7O0FBRXBLLDZCQUE2QixnR0FBZ0csZ0RBQWdELEdBQUcsMkJBQTJCOztB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dXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImF4aW9zXCIpKTtcblxudmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2hcIikpO1xuXG5yZXF1aXJlKFwiLi4vc3R5bGVzL1JvdWxldHRlUGFuZWwuc2Nzc1wiKTtcblxudmFyIF9mb250c0FuZFRoZW1lcyA9IHJlcXVpcmUoXCIuL2ZvbnRzQW5kVGhlbWVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgYWxsX3RoZW1lX25hbWVzID0gX2ZvbnRzQW5kVGhlbWVzLlRoZW1lcztcbnZhciBhbGxfZm9udF9uYW1lcyA9IF9mb250c0FuZFRoZW1lcy5Gb250cztcbnZhciBnZXRfdXNlcl9wcm9maWxlX3VybCA9ICcvZ2V0X3VzZXJfcHJvZmlsZSc7XG52YXIgdXBkYXRlX3VzZXJfcHJvZmlsZV91cmwgPSAnL3VwZGF0ZV9iYWxhbmNlX2FuZF9pdGVtcyc7XG52YXIgdXBkYXRlX3N1Y2Nlc3NfbXNnID0gJ1N1Y2Nlc3MnO1xudmFyIHRoZW1lX3Bvb2xfZW50cmFuY2VfbGltaXQgPSAxMDA7XG52YXIgZm9udF9wb29sX2VudHJhbmNlX2xpbWl0ID0gMTA7XG5cbnZhciByYW5kb21faXRlbXMgPSBmdW5jdGlvbiByYW5kb21faXRlbXMoYXJyLCBudW0pIHtcbiAgcmV0dXJuIF9sb2Rhc2guZGVmYXVsdC5zaHVmZmxlKGFycikuc2xpY2UoMCwgbnVtKTtcbn07XG5cbnZhciBGb250UG9vbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZvbnRQb29sLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRm9udFBvb2wocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9udFBvb2wpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRm9udFBvb2wpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dMaXN0Y2xpY2tlZDogZmFsc2UsXG4gICAgICBpc18xX2NsaWNrZWQ6IGZhbHNlLFxuICAgICAgaXNfMTBfY2xpY2tlZDogZmFsc2UsXG4gICAgICBpdGVtc19jaG9zZW46IFtdXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRm9udFBvb2wsIFt7XG4gICAga2V5OiBcImdldEN1cnJlbnRQb29sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRQb29sKCkge1xuICAgICAgdmFyIGV4aXN0aW5nX2l0ZW1zID0gbmV3IFNldCh0aGlzLnByb3BzLmV4aXN0aW5nX2l0ZW1zKTtcbiAgICAgIHJldHVybiBhbGxfZm9udF9uYW1lcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICFleGlzdGluZ19pdGVtcy5oYXMoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlQnV0dG9uQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQnV0dG9uQ2xpY2soaXNfMSkge1xuICAgICAgdmFyIGN1cnJlbnRfYmFsYW5jZSA9IHRoaXMucHJvcHMuYmFsYW5jZTtcblxuICAgICAgaWYgKGlzXzEgJiYgY3VycmVudF9iYWxhbmNlIDwgZm9udF9wb29sX2VudHJhbmNlX2xpbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc18xICYmIGN1cnJlbnRfYmFsYW5jZSA8IGZvbnRfcG9vbF9lbnRyYW5jZV9saW1pdCAqIDEwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgIGlmIChpc18xKSB7XG4gICAgICAgIGl0ZW1zID0gcmFuZG9tX2l0ZW1zKHRoaXMuZ2V0Q3VycmVudFBvb2woKSwgMSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzXzFfY2xpY2tlZDogdHJ1ZSxcbiAgICAgICAgICBpc18xMF9jbGlja2VkOiBmYWxzZSxcbiAgICAgICAgICBpdGVtc19jaG9zZW46IGl0ZW1zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0aW5nX3N0b3JhZ2UoaXRlbXMsIGN1cnJlbnRfYmFsYW5jZSAtIGZvbnRfcG9vbF9lbnRyYW5jZV9saW1pdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtcyA9IHJhbmRvbV9pdGVtcyh0aGlzLmdldEN1cnJlbnRQb29sKCksIDEwKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNfMV9jbGlja2VkOiBmYWxzZSxcbiAgICAgICAgICBpc18xMF9jbGlja2VkOiB0cnVlLFxuICAgICAgICAgIGl0ZW1zX2Nob3NlbjogaXRlbXNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRpbmdfc3RvcmFnZShpdGVtcywgY3VycmVudF9iYWxhbmNlIC0gZm9udF9wb29sX2VudHJhbmNlX2xpbWl0ICogMTApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBkaXNwbGF5X2FyciA9IHRoaXMuZ2V0Q3VycmVudFBvb2woKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBpdGVtKSk7XG4gICAgICB9KTtcbiAgICAgIHZhciByYW5kb21fYXJyID0gdGhpcy5zdGF0ZS5pdGVtc19jaG9zZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgaXRlbSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJIZXJlIGlzIHRoZSBwb29sIGZvciBmb250c1wiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93TGlzdGNsaWNrZWQ6ICFfdGhpczIuc3RhdGUuc2hvd0xpc3RjbGlja2VkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiU2hvdyBMaXN0XCIpLCB0aGlzLnN0YXRlLnNob3dMaXN0Y2xpY2tlZCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCBkaXNwbGF5X2FycikpIDogbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVCdXR0b25DbGljayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCIqMVwiKSwgdGhpcy5zdGF0ZS5pc18xX2NsaWNrZWQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJDb25ncmF0dWF0aW9ucyEgWW91IGhhdmUgdW5sb2NrZWRcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCByYW5kb21fYXJyKSkgOiBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUJ1dHRvbkNsaWNrKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCIqMTBcIiksIHRoaXMuc3RhdGUuaXNfMTBfY2xpY2tlZCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkNvbmdyYXR1YXRpb25zISBZb3UgaGF2ZSB1bmxvY2tlZFwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInVsXCIsIG51bGwsIHJhbmRvbV9hcnIpKSA6IG51bGwpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGb250UG9vbDtcbn0oX3JlYWN0LmRlZmF1bHQuUHVyZUNvbXBvbmVudCk7XG5cbnZhciBUaGVtZVBvb2wgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50Mikge1xuICBfaW5oZXJpdHMoVGhlbWVQb29sLCBfUmVhY3QkUHVyZUNvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIFRoZW1lUG9vbChwcm9wcykge1xuICAgIHZhciBfdGhpczM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhlbWVQb29sKTtcblxuICAgIF90aGlzMyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihUaGVtZVBvb2wpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpczMuc3RhdGUgPSB7XG4gICAgICBzaG93TGlzdGNsaWNrZWQ6IGZhbHNlLFxuICAgICAgaXNfMV9jbGlja2VkOiBmYWxzZSxcbiAgICAgIGlzXzEwX2NsaWNrZWQ6IGZhbHNlLFxuICAgICAgaXRlbXNfY2hvc2VuOiBbXVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzMztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaGVtZVBvb2wsIFt7XG4gICAga2V5OiBcImdldEN1cnJlbnRQb29sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRQb29sKCkge1xuICAgICAgdmFyIGV4aXN0aW5nX2l0ZW1zID0gbmV3IFNldCh0aGlzLnByb3BzLmV4aXN0aW5nX2l0ZW1zKTtcbiAgICAgIHJldHVybiBhbGxfdGhlbWVfbmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiAhZXhpc3RpbmdfaXRlbXMuaGFzKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUJ1dHRvbkNsaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUJ1dHRvbkNsaWNrKGlzXzEpIHtcbiAgICAgIHZhciBjdXJyZW50X2JhbGFuY2UgPSB0aGlzLnByb3BzLmJhbGFuY2U7XG5cbiAgICAgIGlmIChpc18xICYmIGN1cnJlbnRfYmFsYW5jZSA8IHRoZW1lX3Bvb2xfZW50cmFuY2VfbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzXzEgJiYgY3VycmVudF9iYWxhbmNlIDwgdGhlbWVfcG9vbF9lbnRyYW5jZV9saW1pdCAqIDEwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgIGlmIChpc18xKSB7XG4gICAgICAgIGl0ZW1zID0gcmFuZG9tX2l0ZW1zKHRoaXMuZ2V0Q3VycmVudFBvb2woKSwgMSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzXzFfY2xpY2tlZDogdHJ1ZSxcbiAgICAgICAgICBpc18xMF9jbGlja2VkOiBmYWxzZSxcbiAgICAgICAgICBpdGVtc19jaG9zZW46IGl0ZW1zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0aW5nX3N0b3JhZ2UoaXRlbXMsIGN1cnJlbnRfYmFsYW5jZSAtIHRoZW1lX3Bvb2xfZW50cmFuY2VfbGltaXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbXMgPSByYW5kb21faXRlbXModGhpcy5nZXRDdXJyZW50UG9vbCgpLCAxMCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzXzFfY2xpY2tlZDogZmFsc2UsXG4gICAgICAgICAgaXNfMTBfY2xpY2tlZDogdHJ1ZSxcbiAgICAgICAgICBpdGVtc19jaG9zZW46IGl0ZW1zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0aW5nX3N0b3JhZ2UoaXRlbXMsIGN1cnJlbnRfYmFsYW5jZSAtIHRoZW1lX3Bvb2xfZW50cmFuY2VfbGltaXQgKiAxMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIGN1cnJlbnRfYmFsYW5jZSA9IHRoaXMucHJvcHMuYmFsYW5jZTtcblxuICAgICAgaWYgKGN1cnJlbnRfYmFsYW5jZSA8IHRoZW1lX3Bvb2xfZW50cmFuY2VfbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIllvdXIgYmFsYW5jZSBpcyBub3QgZW5vdWdoIGZvciB0aGVtZSBwb29sIVwiKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXNwbGF5X2FyciA9IHRoaXMuZ2V0Q3VycmVudFBvb2woKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBpdGVtKSk7XG4gICAgICB9KTtcbiAgICAgIHZhciByYW5kb21fYXJyID0gdGhpcy5zdGF0ZS5pdGVtc19jaG9zZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgaXRlbSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJIZXJlIGlzIHRoZSBwb29sIGZvciB0aGVtZXNcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd0xpc3RjbGlja2VkOiAhX3RoaXM0LnN0YXRlLnNob3dMaXN0Y2xpY2tlZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBcIlNob3cgTGlzdFwiKSwgdGhpcy5zdGF0ZS5zaG93TGlzdGNsaWNrZWQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgbnVsbCwgZGlzcGxheV9hcnIpKSA6IG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQuaGFuZGxlQnV0dG9uQ2xpY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiKjFcIiksIHRoaXMuc3RhdGUuaXNfMV9jbGlja2VkID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiQ29uZ3JhdHVhdGlvbnMhIFlvdSBoYXZlIHVubG9ja2VkXCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgbnVsbCwgcmFuZG9tX2FycikpIDogbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5oYW5kbGVCdXR0b25DbGljayhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiKjEwXCIpLCB0aGlzLnN0YXRlLmlzXzEwX2NsaWNrZWQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJDb25ncmF0dWF0aW9ucyEgWW91IGhhdmUgdW5sb2NrZWRcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCByYW5kb21fYXJyKSkgOiBudWxsKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhlbWVQb29sO1xufShfcmVhY3QuZGVmYXVsdC5QdXJlQ29tcG9uZW50KTtcblxudmFyIEVCdWNrc0Rpc3BsYXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEVCdWNrc0Rpc3BsYXksIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEVCdWNrc0Rpc3BsYXkoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVCdWNrc0Rpc3BsYXkpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihFQnVja3NEaXNwbGF5KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFQnVja3NEaXNwbGF5LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIllvdXIgY3VycmVudCBiYWxhbmNlIGlzOlwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCB0aGlzLnByb3BzLmJhbGFuY2UpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRUJ1Y2tzRGlzcGxheTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBSb3VsZXR0ZVBhbmVsID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICBfaW5oZXJpdHMoUm91bGV0dGVQYW5lbCwgX0NvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIFJvdWxldHRlUGFuZWwocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM1O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdWxldHRlUGFuZWwpO1xuXG4gICAgX3RoaXM1ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFJvdWxldHRlUGFuZWwpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpczUuc3RhdGUgPSB7XG4gICAgICBiYWxhbmNlOiAwLFxuICAgICAgZXhpc3RpbmdfaXRlbXM6IFtdXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM1O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJvdWxldHRlUGFuZWwsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuXG4gICAgICBfYXhpb3MuZGVmYXVsdC5nZXQoZ2V0X3VzZXJfcHJvZmlsZV91cmwsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXM2LnNldFN0YXRlKHtcbiAgICAgICAgICBiYWxhbmNlOiByZXNwb25zZS5kYXRhLmVCdWNrcyxcbiAgICAgICAgICBleGlzdGluZ19pdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtc1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVTdG9yYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0b3JhZ2UobmV3SXRlbSwgbmV3QmFsYW5jZSkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuXG4gICAgICBfYXhpb3MuZGVmYXVsdC5wb3N0KHVwZGF0ZV91c2VyX3Byb2ZpbGVfdXJsLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLFxuICAgICAgICBuZXdfaXRlbXM6IG5ld0l0ZW0sXG4gICAgICAgIG5ld19iYWxhbmNlOiBuZXdCYWxhbmNlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gdXBkYXRlX3N1Y2Nlc3NfbXNnKSB7XG4gICAgICAgICAgdmFyIHByZXZfaXRlbXMgPSBfdGhpczcuc3RhdGUuZXhpc3RpbmdfaXRlbXMuc2xpY2UoKTtcblxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICBwcmV2X2l0ZW1zLnB1c2guYXBwbHkocHJldl9pdGVtcywgX3RvQ29uc3VtYWJsZUFycmF5KG5ld0l0ZW0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJldl9pdGVtcy5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzNy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBleGlzdGluZ19pdGVtczogcHJldl9pdGVtcyxcbiAgICAgICAgICAgIGJhbGFuY2U6IG5ld0JhbGFuY2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIGJhbGFuY2UgPSB0aGlzLnN0YXRlLmJhbGFuY2U7XG5cbiAgICAgIGlmIChiYWxhbmNlIDwgZm9udF9wb29sX2VudHJhbmNlX2xpbWl0KSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJZb3VyIGJhbGFuY2UgaXMgbm90IGVub3VnaCFcIikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2d1ZXNzaW5nQ29udGVudCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRUJ1Y2tzRGlzcGxheSwge1xuICAgICAgICBiYWxhbmNlOiBiYWxhbmNlXG4gICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGb250UG9vbCwge1xuICAgICAgICBiYWxhbmNlOiBiYWxhbmNlLFxuICAgICAgICBleGlzdGluZ19pdGVtczogdGhpcy5zdGF0ZS5leGlzdGluZ19pdGVtcyxcbiAgICAgICAgdXBkYXRpbmdfc3RvcmFnZTogZnVuY3Rpb24gdXBkYXRpbmdfc3RvcmFnZShuZXdJdGVtLCBuZXdCYWxhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzOC51cGRhdGVTdG9yYWdlKG5ld0l0ZW0sIG5ld0JhbGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChUaGVtZVBvb2wsIHtcbiAgICAgICAgYmFsYW5jZTogYmFsYW5jZSxcbiAgICAgICAgZXhpc3RpbmdfaXRlbXM6IHRoaXMuc3RhdGUuZXhpc3RpbmdfaXRlbXMsXG4gICAgICAgIHVwZGF0aW5nX3N0b3JhZ2U6IGZ1bmN0aW9uIHVwZGF0aW5nX3N0b3JhZ2UobmV3SXRlbSwgbmV3QmFsYW5jZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczgudXBkYXRlU3RvcmFnZShuZXdJdGVtLCBuZXdCYWxhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSb3VsZXR0ZVBhbmVsO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91bGV0dGVQYW5lbDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bGV0dGVQYW5lbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64\n')}}]);