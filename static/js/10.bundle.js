(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{458:function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(459);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(8)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvUHJvZmlsZVBhbmVsLnNjc3M/YzdlNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLEdBQXFHOztBQUUzSCw0Q0FBNEMsUUFBUzs7QUFFckQ7QUFDQTs7OztBQUlBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQSxhQUFhLG1CQUFPLENBQUMsQ0FBZ0Q7O0FBRXJFOztBQUVBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjQ1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL1Byb2ZpbGVQYW5lbC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL1Byb2ZpbGVQYW5lbC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9Qcm9maWxlUGFuZWwuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///458\n")},459:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(7)(false);\n// imports\n\n\n// module\nexports.push([module.i, ".ProfilePanel_content {\\n  padding-left: 0.5em;\\n  display: flex;\\n  flex-direction: column; }\\n  .ProfilePanel_content .UserBasicInfo_content {\\n    order: 1;\\n    margin: 1.5em;\\n    padding: 1em;\\n    box-shadow: 0 0 0.2em lightgray;\\n    border-radius: 0.1em; }\\n  .ProfilePanel_content .PreferencesPanel_content {\\n    margin: 1.5em;\\n    order: 2; }\\n  .ProfilePanel_content .CountsInfo_content {\\n    margin: 1.5em;\\n    order: 3; }\\n    .ProfilePanel_content .CountsInfo_content .CountsInfo_flex {\\n      display: flex;\\n      flex-direction: row;\\n      flex-flow: wrap;\\n      justify-content: flex-start;\\n      align-content: space-around; }\\n      .ProfilePanel_content .CountsInfo_content .CountsInfo_flex .CountsInfo_block {\\n        box-shadow: 0 0 0.2em lightgray;\\n        border-radius: 0.1em;\\n        width: 10em;\\n        height: 10em;\\n        padding: 0.5em;\\n        margin: 1em; }\\n  .ProfilePanel_content .ItemsInfo_content {\\n    order: 4;\\n    margin: 1.5em; }\\n    .ProfilePanel_content .ItemsInfo_content .ItemsInfo_flex {\\n      display: flex;\\n      flex-direction: row;\\n      flex-flow: wrap;\\n      justify-content: flex-start;\\n      align-content: space-around; }\\n      .ProfilePanel_content .ItemsInfo_content .ItemsInfo_flex .ItemsInfo_block {\\n        box-shadow: 0 0 0.2em lightgray;\\n        border-radius: 0.1em;\\n        width: 10em;\\n        height: 10em;\\n        padding: 0.5em;\\n        margin: 1em; }\\n        .ProfilePanel_content .ItemsInfo_content .ItemsInfo_flex .ItemsInfo_block ul {\\n          list-style: none;\\n          overflow-y: auto;\\n          padding: 0; }\\n  .ProfilePanel_content .FriendsInfo_content {\\n    order: 5;\\n    margin: 1.5em;\\n    width: 10em;\\n    height: 10em; }\\n    .ProfilePanel_content .FriendsInfo_content ul {\\n      list-style: none;\\n      overflow-y: auto;\\n      padding: 0; }\\n\\n.friendsInfoItem_flex {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-content: space-between; }\\n  .friendsInfoItem_flex .friendsInfoItem_card {\\n    border-radius: 0.2em;\\n    box-shadow: 0 0 0.2em lightgray;\\n    padding: 0.5em;\\n    margin: 0.5em; }\\n  .friendsInfoItem_flex .friendsInfoItem_list_flex {\\n    display: flex;\\n    flex-flow: row;\\n    flex-wrap: wrap;\\n    overflow: visible;\\n    width: 6.5em; }\\n    .friendsInfoItem_flex .friendsInfoItem_list_flex dt {\\n      flex: 0 0 50%;\\n      width: 33%;\\n      margin-bottom: 0.5em; }\\n    .friendsInfoItem_flex .friendsInfoItem_list_flex dd {\\n      flex: 0 0 50%;\\n      margin-left: auto;\\n      text-align: right;\\n      width: 66%;\\n      margin-bottom: 0.5em; }\\n", ""]);\n\n// exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvUHJvZmlsZVBhbmVsLnNjc3M/ZGE5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwyQkFBMkIsbUJBQU8sQ0FBQyxDQUE0QztBQUMvRTs7O0FBR0E7QUFDQSxjQUFjLFFBQVMsMEJBQTBCLHdCQUF3QixrQkFBa0IsMkJBQTJCLEVBQUUsa0RBQWtELGVBQWUsb0JBQW9CLG1CQUFtQixzQ0FBc0MsMkJBQTJCLEVBQUUscURBQXFELG9CQUFvQixlQUFlLEVBQUUsK0NBQStDLG9CQUFvQixlQUFlLEVBQUUsa0VBQWtFLHNCQUFzQiw0QkFBNEIsd0JBQXdCLG9DQUFvQyxvQ0FBb0MsRUFBRSxzRkFBc0YsMENBQTBDLCtCQUErQixzQkFBc0IsdUJBQXVCLHlCQUF5QixzQkFBc0IsRUFBRSw4Q0FBOEMsZUFBZSxvQkFBb0IsRUFBRSxnRUFBZ0Usc0JBQXNCLDRCQUE0Qix3QkFBd0Isb0NBQW9DLG9DQUFvQyxFQUFFLG1GQUFtRiwwQ0FBMEMsK0JBQStCLHNCQUFzQix1QkFBdUIseUJBQXlCLHNCQUFzQixFQUFFLHdGQUF3Riw2QkFBNkIsNkJBQTZCLHVCQUF1QixFQUFFLGdEQUFnRCxlQUFlLG9CQUFvQixrQkFBa0IsbUJBQW1CLEVBQUUscURBQXFELHlCQUF5Qix5QkFBeUIsbUJBQW1CLEVBQUUsMkJBQTJCLGtCQUFrQix3QkFBd0IsZ0NBQWdDLGlDQUFpQyxFQUFFLGlEQUFpRCwyQkFBMkIsc0NBQXNDLHFCQUFxQixvQkFBb0IsRUFBRSxzREFBc0Qsb0JBQW9CLHFCQUFxQixzQkFBc0Isd0JBQXdCLG1CQUFtQixFQUFFLDJEQUEyRCxzQkFBc0IsbUJBQW1CLDZCQUE2QixFQUFFLDJEQUEyRCxzQkFBc0IsMEJBQTBCLDBCQUEwQixtQkFBbUIsNkJBQTZCLEVBQUU7O0FBRXZtRiIsImZpbGUiOiI0NTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5Qcm9maWxlUGFuZWxfY29udGVudCB7XFxuICBwYWRkaW5nLWxlZnQ6IDAuNWVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cXG4gIC5Qcm9maWxlUGFuZWxfY29udGVudCAuVXNlckJhc2ljSW5mb19jb250ZW50IHtcXG4gICAgb3JkZXI6IDE7XFxuICAgIG1hcmdpbjogMS41ZW07XFxuICAgIHBhZGRpbmc6IDFlbTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDAuMmVtIGxpZ2h0Z3JheTtcXG4gICAgYm9yZGVyLXJhZGl1czogMC4xZW07IH1cXG4gIC5Qcm9maWxlUGFuZWxfY29udGVudCAuUHJlZmVyZW5jZXNQYW5lbF9jb250ZW50IHtcXG4gICAgbWFyZ2luOiAxLjVlbTtcXG4gICAgb3JkZXI6IDI7IH1cXG4gIC5Qcm9maWxlUGFuZWxfY29udGVudCAuQ291bnRzSW5mb19jb250ZW50IHtcXG4gICAgbWFyZ2luOiAxLjVlbTtcXG4gICAgb3JkZXI6IDM7IH1cXG4gICAgLlByb2ZpbGVQYW5lbF9jb250ZW50IC5Db3VudHNJbmZvX2NvbnRlbnQgLkNvdW50c0luZm9fZmxleCB7XFxuICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgIGZsZXgtZmxvdzogd3JhcDtcXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgICAgYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kOyB9XFxuICAgICAgLlByb2ZpbGVQYW5lbF9jb250ZW50IC5Db3VudHNJbmZvX2NvbnRlbnQgLkNvdW50c0luZm9fZmxleCAuQ291bnRzSW5mb19ibG9jayB7XFxuICAgICAgICBib3gtc2hhZG93OiAwIDAgMC4yZW0gbGlnaHRncmF5O1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMC4xZW07XFxuICAgICAgICB3aWR0aDogMTBlbTtcXG4gICAgICAgIGhlaWdodDogMTBlbTtcXG4gICAgICAgIHBhZGRpbmc6IDAuNWVtO1xcbiAgICAgICAgbWFyZ2luOiAxZW07IH1cXG4gIC5Qcm9maWxlUGFuZWxfY29udGVudCAuSXRlbXNJbmZvX2NvbnRlbnQge1xcbiAgICBvcmRlcjogNDtcXG4gICAgbWFyZ2luOiAxLjVlbTsgfVxcbiAgICAuUHJvZmlsZVBhbmVsX2NvbnRlbnQgLkl0ZW1zSW5mb19jb250ZW50IC5JdGVtc0luZm9fZmxleCB7XFxuICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgIGZsZXgtZmxvdzogd3JhcDtcXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgICAgYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kOyB9XFxuICAgICAgLlByb2ZpbGVQYW5lbF9jb250ZW50IC5JdGVtc0luZm9fY29udGVudCAuSXRlbXNJbmZvX2ZsZXggLkl0ZW1zSW5mb19ibG9jayB7XFxuICAgICAgICBib3gtc2hhZG93OiAwIDAgMC4yZW0gbGlnaHRncmF5O1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMC4xZW07XFxuICAgICAgICB3aWR0aDogMTBlbTtcXG4gICAgICAgIGhlaWdodDogMTBlbTtcXG4gICAgICAgIHBhZGRpbmc6IDAuNWVtO1xcbiAgICAgICAgbWFyZ2luOiAxZW07IH1cXG4gICAgICAgIC5Qcm9maWxlUGFuZWxfY29udGVudCAuSXRlbXNJbmZvX2NvbnRlbnQgLkl0ZW1zSW5mb19mbGV4IC5JdGVtc0luZm9fYmxvY2sgdWwge1xcbiAgICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgICAgICAgICBwYWRkaW5nOiAwOyB9XFxuICAuUHJvZmlsZVBhbmVsX2NvbnRlbnQgLkZyaWVuZHNJbmZvX2NvbnRlbnQge1xcbiAgICBvcmRlcjogNTtcXG4gICAgbWFyZ2luOiAxLjVlbTtcXG4gICAgd2lkdGg6IDEwZW07XFxuICAgIGhlaWdodDogMTBlbTsgfVxcbiAgICAuUHJvZmlsZVBhbmVsX2NvbnRlbnQgLkZyaWVuZHNJbmZvX2NvbnRlbnQgdWwge1xcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICAgICAgb3ZlcmZsb3cteTogYXV0bztcXG4gICAgICBwYWRkaW5nOiAwOyB9XFxuXFxuLmZyaWVuZHNJbmZvSXRlbV9mbGV4IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgYWxpZ24tY29udGVudDogc3BhY2UtYmV0d2VlbjsgfVxcbiAgLmZyaWVuZHNJbmZvSXRlbV9mbGV4IC5mcmllbmRzSW5mb0l0ZW1fY2FyZCB7XFxuICAgIGJvcmRlci1yYWRpdXM6IDAuMmVtO1xcbiAgICBib3gtc2hhZG93OiAwIDAgMC4yZW0gbGlnaHRncmF5O1xcbiAgICBwYWRkaW5nOiAwLjVlbTtcXG4gICAgbWFyZ2luOiAwLjVlbTsgfVxcbiAgLmZyaWVuZHNJbmZvSXRlbV9mbGV4IC5mcmllbmRzSW5mb0l0ZW1fbGlzdF9mbGV4IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1mbG93OiByb3c7XFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAgIHdpZHRoOiA2LjVlbTsgfVxcbiAgICAuZnJpZW5kc0luZm9JdGVtX2ZsZXggLmZyaWVuZHNJbmZvSXRlbV9saXN0X2ZsZXggZHQge1xcbiAgICAgIGZsZXg6IDAgMCA1MCU7XFxuICAgICAgd2lkdGg6IDMzJTtcXG4gICAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTsgfVxcbiAgICAuZnJpZW5kc0luZm9JdGVtX2ZsZXggLmZyaWVuZHNJbmZvSXRlbV9saXN0X2ZsZXggZGQge1xcbiAgICAgIGZsZXg6IDAgMCA1MCU7XFxuICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICAgICAgd2lkdGg6IDY2JTtcXG4gICAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///459\n')},63:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(1));\n\nvar _axios = _interopRequireDefault(__webpack_require__(11));\n\nvar _reactFontawesome = __webpack_require__(19);\n\nvar _freeSolidSvgIcons = __webpack_require__(20);\n\nvar _fontsAndThemes = __webpack_require__(23);\n\n__webpack_require__(458);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar user_profile_fetching_url = \'/get_user_profile\';\nvar user_profile_updating_url = \'/change_user_settings\';\nvar add_friend_url = \'/add_friend_by_search\';\nvar change_font_url = \'/change_font\';\nvar change_theme_url = \'/change_theme\';\n\nvar UserProfile = function UserProfile() {\n  _classCallCheck(this, UserProfile);\n\n  this.id = 0;\n  this.username = \'\';\n  this.userEmail = \'\';\n  this.userNewPassword = \'\';\n  this.userPicSource = \'\';\n  this.correctQuestionCount = 0;\n  this.commentCount = 0;\n  this.uploadQuestionCount = 0;\n  this.uploadTestCaseCount = 0;\n  this.eBucks = 0;\n  this.items = []; // assume items are just texts\n\n  this.friends = []; // list of string\n\n  this.level = 0;\n};\n\nvar FriendsInfoItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FriendsInfoItem, _Component);\n\n  function FriendsInfoItem(props) {\n    var _this;\n\n    _classCallCheck(this, FriendsInfoItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FriendsInfoItem).call(this, props));\n    _this.state = {\n      clicked: false,\n      profile: null\n    };\n    return _this;\n  }\n\n  _createClass(FriendsInfoItem, [{\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _axios.default.get(user_profile_fetching_url, {\n        params: {\n          username: this.props.friend_username\n        }\n      }).then(function (response) {\n        _this2.setState({\n          profile: response.data\n        });\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this3 = this;\n\n      var profile = this.state.profile;\n\n      if (profile === null) {\n        return null;\n      }\n\n      return _react.default.createElement("div", {\n        key: \'friendsInfoItem_\' + profile.username,\n        className: \'friendsInfoItem_card\'\n      }, _react.default.createElement("div", null, _react.default.createElement("div", {\n        onClick: function onClick() {\n          return _this3.setState({\n            clicked: !_this3.state.clicked\n          });\n        }\n      }, _react.default.createElement("h4", null, profile.username)), this.state.clicked ? _react.default.createElement("div", {\n        className: \'friendsInfoItem_list\'\n      }, _react.default.createElement("dl", {\n        className: \'friendsInfoItem_list_flex\'\n      }, _react.default.createElement("dt", null, "Submitted Solutions"), _react.default.createElement("dd", null, profile.correctQuestionCount), _react.default.createElement("dt", null, "Uploaded Questions"), _react.default.createElement("dd", null, profile.uploadQuestionCount), _react.default.createElement("dt", null, "Unlocked Items"), _react.default.createElement("dd", null, profile.items.length))) : null));\n    }\n  }]);\n\n  return FriendsInfoItem;\n}(_react.Component);\n\nvar FriendsInfo =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(FriendsInfo, _Component2);\n\n  function FriendsInfo(props) {\n    var _this4;\n\n    _classCallCheck(this, FriendsInfo);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(FriendsInfo).call(this, props));\n    _this4.state = {\n      is_fold: true,\n      search_string: \'\',\n      show_error: false\n    };\n    return _this4;\n  }\n\n  _createClass(FriendsInfo, [{\n    key: "addFriends",\n    value: function addFriends() {\n      var _this5 = this;\n\n      _axios.default.post(add_friend_url, {\n        username: this.props.current_user,\n        search_string: this.state.search_string\n      }).then(function (response) {\n        if (response.data.msg !== \'Success\') {\n          _this5.setState({\n            show_error: true\n          });\n        } else {\n          _this5.setState({\n            show_error: false\n          });\n\n          _this5.props.updating_profile(response.data.userProfile);\n        }\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this6 = this;\n\n      var arr = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.profile.friends[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var friend = _step.value;\n          arr.push(_react.default.createElement("div", null, _react.default.createElement(FriendsInfoItem, {\n            friend_username: friend\n          })));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var friends_arr = _react.default.createElement("div", {\n        className: \'friendsInfoItem_flex\'\n      }, arr);\n\n      var add_friends = _react.default.createElement("div", null, _react.default.createElement("label", null, "Add friends by ID/Username"), _react.default.createElement("input", {\n        type: \'text\',\n        value: this.state.search_string,\n        onChange: function onChange(e) {\n          return _this6.setState({\n            search_string: e.target.value\n          });\n        }\n      }), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this6.addFriends();\n        }\n      }, "Submit"), this.state.show_error ? _react.default.createElement("article", null, "Failed to add friends!") : null);\n\n      return _react.default.createElement("div", {\n        className: \'FriendsInfo_content\'\n      }, _react.default.createElement("h3", null, "Friends  ", this.state.is_fold ? _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowRight,\n        onClick: function onClick() {\n          return _this6.setState({\n            is_fold: false\n          });\n        }\n      }) : _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowDown,\n        onClick: function onClick() {\n          return _this6.setState({\n            is_fold: true\n          });\n        }\n      })), this.state.is_fold ? null : _react.default.createElement("div", null, add_friends, friends_arr));\n    }\n  }]);\n\n  return FriendsInfo;\n}(_react.Component);\n\nvar ItemsInfo =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(ItemsInfo, _Component3);\n\n  function ItemsInfo(props) {\n    var _this7;\n\n    _classCallCheck(this, ItemsInfo);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(ItemsInfo).call(this, props));\n    _this7.state = {\n      is_fold: true\n    };\n    return _this7;\n  }\n\n  _createClass(ItemsInfo, [{\n    key: "render",\n    value: function render() {\n      var _this8 = this;\n\n      var profile = this.props.profile;\n      var arr = [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = profile.items[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n          arr.push(_react.default.createElement("li", null, item));\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return _react.default.createElement("div", {\n        className: \'ItemsInfo_content\'\n      }, _react.default.createElement("h3", null, "Achievements ", this.state.is_fold ? _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowRight,\n        onClick: function onClick() {\n          return _this8.setState({\n            is_fold: false\n          });\n        }\n      }) : _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowDown,\n        onClick: function onClick() {\n          return _this8.setState({\n            is_fold: true\n          });\n        }\n      })), this.state.is_fold ? null : _react.default.createElement("div", {\n        className: \'ItemsInfo_flex\'\n      }, _react.default.createElement("div", {\n        className: \'ItemsInfo_block\'\n      }, _react.default.createElement("h4", null, "You have eBucks left:"), _react.default.createElement("p", null, "$", profile.eBucks)), profile.items.length > 0 ? _react.default.createElement("div", {\n        className: \'ItemsInfo_block\'\n      }, _react.default.createElement("h4", {\n        style: {\n          marginBottom: \'0.5em\'\n        }\n      }, "You have unlocked those items:"), _react.default.createElement("div", {\n        style: {\n          height: \'5em\',\n          overflowY: \'auto\'\n        }\n      }, _react.default.createElement("ul", null, arr))) : null, _react.default.createElement("div", {\n        className: \'ItemsInfo_block\'\n      }, _react.default.createElement("h4", null, "Your are currently at level:"), _react.default.createElement("p", null, profile.level))));\n    }\n  }]);\n\n  return ItemsInfo;\n}(_react.Component);\n\nvar CountsInfo =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(CountsInfo, _Component4);\n\n  function CountsInfo(props) {\n    var _this9;\n\n    _classCallCheck(this, CountsInfo);\n\n    _this9 = _possibleConstructorReturn(this, _getPrototypeOf(CountsInfo).call(this, props));\n    _this9.state = {\n      is_fold: true\n    };\n    return _this9;\n  }\n\n  _createClass(CountsInfo, [{\n    key: "render",\n    value: function render() {\n      var _this10 = this;\n\n      var profile = this.props.profile;\n      return _react.default.createElement("div", {\n        className: \'CountsInfo_content\'\n      }, _react.default.createElement("h3", null, "Statistics ", this.state.is_fold ? _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowRight,\n        onClick: function onClick() {\n          return _this10.setState({\n            is_fold: false\n          });\n        }\n      }) : _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowDown,\n        onClick: function onClick() {\n          return _this10.setState({\n            is_fold: true\n          });\n        }\n      })), this.state.is_fold ? null : _react.default.createElement("div", {\n        className: \'CountsInfo_flex\'\n      }, _react.default.createElement("div", {\n        className: \'CountsInfo_block\'\n      }, _react.default.createElement("h4", null, "You have submitted answers:"), _react.default.createElement("p", null, profile.correctQuestionCount)), _react.default.createElement("div", {\n        className: \'CountsInfo_block\'\n      }, _react.default.createElement("h4", null, "You have made comments:"), _react.default.createElement("p", null, profile.commentCount)), _react.default.createElement("div", {\n        className: \'CountsInfo_block\'\n      }, _react.default.createElement("h4", null, "You have uploaded questions:"), _react.default.createElement("p", null, profile.uploadQuestionCount))));\n    }\n  }]);\n\n  return CountsInfo;\n}(_react.Component);\n\nvar UserBasicInfo =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(UserBasicInfo, _Component5);\n\n  function UserBasicInfo(props) {\n    var _this11;\n\n    _classCallCheck(this, UserBasicInfo);\n\n    _this11 = _possibleConstructorReturn(this, _getPrototypeOf(UserBasicInfo).call(this, props));\n    _this11.state = {\n      displaySettings: false,\n      newPassword: \'\',\n      newEmail: \'\'\n    };\n    return _this11;\n  }\n\n  _createClass(UserBasicInfo, [{\n    key: "handleSettingSubmit",\n    value: function handleSettingSubmit() {\n      var _this12 = this;\n\n      _axios.default.post(user_profile_updating_url, {\n        password: this.state.newPassword,\n        email: this.state.newEmail,\n        user_id: this.props.profile.id\n      }).then(function (response) {\n        _this12.setState({\n          displaySettings: false\n        });\n\n        if (_this12.state.newEmail !== \'\') {\n          _this12.props.updating_email(_this12.state.newEmail);\n        }\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this13 = this;\n\n      var profile = this.props.profile;\n      console.log(profile.userPicSource);\n      return _react.default.createElement("div", {\n        className: \'UserBasicInfo_content\'\n      }, _react.default.createElement("h2", null, "Profile"), _react.default.createElement("div", {\n        style: {\n          display: \'flex\',\n          flexDirection: \'row\'\n        }\n      }, _react.default.createElement("div", {\n        style: {\n          order: \'1\',\n          marginRight: \'1em\',\n          whiteSpace: \'nowrap\'\n        }\n      }, _react.default.createElement("span", {\n        style: {\n          display: \'inline-block\',\n          height: \'100%\',\n          verticalAlign: \'middle\'\n        }\n      }), _react.default.createElement("img", {\n        style: {\n          maxWidth: \'5em\',\n          maxHeight: \'5em\',\n          verticalAlign: \'middle\',\n          boxShadow: \'0 0 0.2em grey\'\n        },\n        key: \'UserBasicInfo_img\',\n        src: profile.userPicSource,\n        alt: profile.username\n      })), _react.default.createElement("div", {\n        style: {\n          order: \'2\'\n        }\n      }, this.state.displaySettings ? _react.default.createElement("div", null, _react.default.createElement("div", {\n        key: \'UserBasicInfo_changeMSG\'\n      }, "Leave blank any input you don\'t want to change"), _react.default.createElement("div", {\n        key: \'UserBasicInfo_changePASSWORD\'\n      }, _react.default.createElement("label", {\n        htmlFor: \'settings_password\'\n      }, "Change Password"), _react.default.createElement("input", {\n        id: \'settings_password\',\n        key: \'settings_password\',\n        type: \'password\',\n        value: this.state.newPassword,\n        onChange: function onChange(e) {\n          return _this13.setState({\n            newPassword: e.target.value\n          });\n        }\n      })), _react.default.createElement("div", {\n        key: \'UserBasicInfo_changeEMAIL\'\n      }, _react.default.createElement("label", {\n        htmlFor: \'settings_email\'\n      }, "Change Email"), _react.default.createElement("input", {\n        id: \'settings_email\',\n        key: \'settings_email\',\n        type: \'text\',\n        value: this.state.newEmail,\n        onChange: function onChange(e) {\n          return _this13.setState({\n            newEmail: e.target.value\n          });\n        }\n      })), _react.default.createElement("button", {\n        key: \'UserBasicInfo_changeSUBMIT\',\n        onClick: function onClick() {\n          return _this13.handleSettingSubmit();\n        }\n      }, "Submit"), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this13.setState({\n            displaySettings: false\n          });\n        }\n      }, "Back")) : _react.default.createElement("div", null, _react.default.createElement("h3", {\n        key: \'UserBasicInfo_username\'\n      }, profile.username), _react.default.createElement("h4", {\n        key: \'UserBasicInfo_useremail\'\n      }, profile.userEmail), _react.default.createElement("button", {\n        key: \'UserBasicInfo_changeBTN\',\n        onClick: function onClick() {\n          return _this13.setState({\n            displaySettings: true\n          });\n        }\n      }, "Change Email or Password")))));\n    }\n  }]);\n\n  return UserBasicInfo;\n}(_react.Component);\n\nvar PreferenceInfo =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(PreferenceInfo, _Component6);\n\n  function PreferenceInfo(props) {\n    var _this14;\n\n    _classCallCheck(this, PreferenceInfo);\n\n    _this14 = _possibleConstructorReturn(this, _getPrototypeOf(PreferenceInfo).call(this, props));\n    _this14.state = {\n      current_font: \'default\',\n      current_theme: \'default\',\n      is_fold: true\n    };\n    return _this14;\n  }\n\n  _createClass(PreferenceInfo, [{\n    key: "changeFont",\n    value: function changeFont() {\n      console.log(this.state.current_font);\n\n      _axios.default.post(change_font_url, {\n        username: this.props.profile.username,\n        new_font: this.state.current_font\n      }).then(function (response) {\n        window.location.reload();\n      });\n    }\n  }, {\n    key: "changeTheme",\n    value: function changeTheme() {\n      _axios.default.post(change_theme_url, {\n        username: this.props.profile.username,\n        new_theme: this.state.current_theme\n      }).then(function (response) {\n        window.location.reload();\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this15 = this;\n\n      var profile = this.props.profile;\n      var all_themes = profile.items.filter(function (item) {\n        return _fontsAndThemes.Themes.includes(item);\n      });\n      var all_fonts = profile.items.filter(function (item) {\n        return _fontsAndThemes.Fonts.includes(item);\n      });\n      var fonts_arr = all_fonts.map(function (item) {\n        return _react.default.createElement("option", {\n          value: item\n        }, item);\n      });\n      fonts_arr.unshift(_react.default.createElement("option", {\n        value: \'default\'\n      }, \'default\'));\n      var themes_arr = all_themes.map(function (item) {\n        return _react.default.createElement("option", {\n          value: item\n        }, item);\n      });\n      themes_arr.unshift(_react.default.createElement("option", {\n        value: \'default\'\n      }, \'default\'));\n      return _react.default.createElement("div", {\n        className: \'PreferencesPanel_content\'\n      }, _react.default.createElement("h3", null, "Preferences ", this.state.is_fold ? _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowRight,\n        onClick: function onClick() {\n          return _this15.setState({\n            is_fold: false\n          });\n        }\n      }) : _react.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n        icon: _freeSolidSvgIcons.faArrowDown,\n        onClick: function onClick() {\n          return _this15.setState({\n            is_fold: true\n          });\n        }\n      })), this.state.is_fold ? null : _react.default.createElement("div", null, _react.default.createElement("p", null, "After choosing new fonts/themes, please refresh your page!"), _react.default.createElement("div", null, _react.default.createElement("div", null, _react.default.createElement("label", {\n        htmlFor: \'ProfilePanel_select_fonts\'\n      }, "Change fonts here!"), _react.default.createElement("select", {\n        onChange: function onChange(e) {\n          return _this15.setState({\n            current_font: e.target.value\n          });\n        },\n        id: \'ProfilePanel_select_fonts\'\n      }, fonts_arr), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this15.changeFont();\n        }\n      }, "Submit")), _react.default.createElement("div", null, _react.default.createElement("label", {\n        htmlFor: \'ProfilePanel_select_themes\'\n      }, "Change themes here!"), _react.default.createElement("select", {\n        onChange: function onChange(e) {\n          return _this15.setState({\n            current_theme: e.target.value\n          });\n        },\n        id: \'ProfilePanel_select_themes\'\n      }, themes_arr), _react.default.createElement("button", {\n        onClick: function onClick() {\n          return _this15.changeTheme();\n        }\n      }, "Submit")))));\n    }\n  }]);\n\n  return PreferenceInfo;\n}(_react.Component);\n\nvar ProfilePanel =\n/*#__PURE__*/\nfunction (_Component7) {\n  _inherits(ProfilePanel, _Component7);\n\n  function ProfilePanel(props) {\n    var _this16;\n\n    _classCallCheck(this, ProfilePanel);\n\n    _this16 = _possibleConstructorReturn(this, _getPrototypeOf(ProfilePanel).call(this, props));\n    _this16.state = {\n      user_profile: new UserProfile()\n    };\n    return _this16;\n  }\n\n  _createClass(ProfilePanel, [{\n    key: "updatingEmail",\n    value: function updatingEmail(newEmail) {\n      var prev_profile = JSON.parse(JSON.stringify(this.state.user_profile));\n      prev_profile.userEmail = newEmail;\n      this.setState({\n        user_profile: prev_profile\n      });\n    }\n  }, {\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      var _this17 = this;\n\n      var user = this.props.user;\n\n      _axios.default.get(user_profile_fetching_url, {\n        params: {\n          username: user\n        }\n      }).then(function (response) {\n        console.log(\'user profile is \', response.data);\n\n        _this17.setState({\n          user_profile: response.data\n        });\n      });\n    }\n  }, {\n    key: "updateProfile",\n    value: function updateProfile(friends_profile) {\n      var prev_user_profile = JSON.parse(JSON.stringify(this.state.user_profile));\n      prev_user_profile.friends.push(friends_profile.username);\n      this.setState({\n        user_profile: prev_user_profile\n      });\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this18 = this;\n\n      var user = this.props.user;\n      return _react.default.createElement("div", {\n        className: \'ProfilePanel_content\'\n      }, _react.default.createElement(UserBasicInfo, {\n        profile: this.state.user_profile,\n        updating_email: function updating_email(val) {\n          return _this18.updatingEmail(val);\n        }\n      }), _react.default.createElement(CountsInfo, {\n        profile: this.state.user_profile\n      }), _react.default.createElement(ItemsInfo, {\n        profile: this.state.user_profile\n      }), _react.default.createElement(FriendsInfo, {\n        updating_profile: function updating_profile(friend_profile) {\n          return _this18.updateProfile(friend_profile);\n        },\n        current_user: user,\n        profile: this.state.user_profile\n      }), _react.default.createElement(PreferenceInfo, {\n        profile: this.state.user_profile\n      }));\n    }\n  }]);\n\n  return ProfilePanel;\n}(_react.Component);\n\nexports.default = ProfilePanel;\n\n//# sourceMappingURL=ProfilePanel.js.map\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL1Byb2ZpbGVQYW5lbC5qcz9lNjYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEscUNBQXFDLG1CQUFPLENBQUMsQ0FBTzs7QUFFcEQsb0NBQW9DLG1CQUFPLENBQUMsRUFBTzs7QUFFbkQsd0JBQXdCLG1CQUFPLENBQUMsRUFBZ0M7O0FBRWhFLHlCQUF5QixtQkFBTyxDQUFDLEVBQW1DOztBQUVwRSxzQkFBc0IsbUJBQU8sQ0FBQyxFQUFrQjs7QUFFaEQsbUJBQU8sQ0FBQyxHQUE2Qjs7QUFFckMsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLE9BQU8saUJBQWlCLG1CQUFtQix1QkFBdUIsc0RBQXNELHNIQUFzSCw0QkFBNEIsMENBQTBDLEVBQUUsT0FBTyx3QkFBd0IsRUFBRSxFQUFFLEVBQUUsRUFBRSxzQkFBc0IsZUFBZSxFQUFFOztBQUV0ZCx1QkFBdUIsMkVBQTJFLGtDQUFrQyxtQkFBbUIsR0FBRyxFQUFFLE9BQU8sa0NBQWtDLDhIQUE4SCxHQUFHLEVBQUUscUJBQXFCOztBQUU3ViwyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFM1QsNkRBQTZELHNFQUFzRSw4REFBOEQsb0JBQW9COztBQUVyTixpREFBaUQsMEVBQTBFLGFBQWEsRUFBRSxxQ0FBcUM7O0FBRS9LLHVDQUF1Qyx1QkFBdUIsdUZBQXVGLEVBQUUsYUFBYTs7QUFFcEssNkJBQTZCLGdHQUFnRyxnREFBZ0QsR0FBRywyQkFBMkI7O0FBRTNNLDBDQUEwQywrREFBK0QsMkVBQTJFLEVBQUUseUVBQXlFLGVBQWUsc0RBQXNELEVBQUUsRUFBRSx1REFBdUQ7O0FBRS9YLGdDQUFnQyw0RUFBNEUsaUJBQWlCLFVBQVUsR0FBRyw4QkFBOEI7O0FBRXhLLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEIsb0JBQW9COztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0ZBQWtGLGdFQUFnRTtBQUNsSjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUVBQXVFLG1FQUFtRTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQSIsImZpbGUiOiI2My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImF4aW9zXCIpKTtcblxudmFyIF9yZWFjdEZvbnRhd2Vzb21lID0gcmVxdWlyZShcIkBmb3J0YXdlc29tZS9yZWFjdC1mb250YXdlc29tZVwiKTtcblxudmFyIF9mcmVlU29saWRTdmdJY29ucyA9IHJlcXVpcmUoXCJAZm9ydGF3ZXNvbWUvZnJlZS1zb2xpZC1zdmctaWNvbnNcIik7XG5cbnZhciBfZm9udHNBbmRUaGVtZXMgPSByZXF1aXJlKFwiLi9mb250c0FuZFRoZW1lc1wiKTtcblxucmVxdWlyZShcIi4uL3N0eWxlcy9Qcm9maWxlUGFuZWwuc2Nzc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIHVzZXJfcHJvZmlsZV9mZXRjaGluZ191cmwgPSAnL2dldF91c2VyX3Byb2ZpbGUnO1xudmFyIHVzZXJfcHJvZmlsZV91cGRhdGluZ191cmwgPSAnL2NoYW5nZV91c2VyX3NldHRpbmdzJztcbnZhciBhZGRfZnJpZW5kX3VybCA9ICcvYWRkX2ZyaWVuZF9ieV9zZWFyY2gnO1xudmFyIGNoYW5nZV9mb250X3VybCA9ICcvY2hhbmdlX2ZvbnQnO1xudmFyIGNoYW5nZV90aGVtZV91cmwgPSAnL2NoYW5nZV90aGVtZSc7XG5cbnZhciBVc2VyUHJvZmlsZSA9IGZ1bmN0aW9uIFVzZXJQcm9maWxlKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlclByb2ZpbGUpO1xuXG4gIHRoaXMuaWQgPSAwO1xuICB0aGlzLnVzZXJuYW1lID0gJyc7XG4gIHRoaXMudXNlckVtYWlsID0gJyc7XG4gIHRoaXMudXNlck5ld1Bhc3N3b3JkID0gJyc7XG4gIHRoaXMudXNlclBpY1NvdXJjZSA9ICcnO1xuICB0aGlzLmNvcnJlY3RRdWVzdGlvbkNvdW50ID0gMDtcbiAgdGhpcy5jb21tZW50Q291bnQgPSAwO1xuICB0aGlzLnVwbG9hZFF1ZXN0aW9uQ291bnQgPSAwO1xuICB0aGlzLnVwbG9hZFRlc3RDYXNlQ291bnQgPSAwO1xuICB0aGlzLmVCdWNrcyA9IDA7XG4gIHRoaXMuaXRlbXMgPSBbXTsgLy8gYXNzdW1lIGl0ZW1zIGFyZSBqdXN0IHRleHRzXG5cbiAgdGhpcy5mcmllbmRzID0gW107IC8vIGxpc3Qgb2Ygc3RyaW5nXG5cbiAgdGhpcy5sZXZlbCA9IDA7XG59O1xuXG52YXIgRnJpZW5kc0luZm9JdGVtID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhGcmllbmRzSW5mb0l0ZW0sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZyaWVuZHNJbmZvSXRlbShwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGcmllbmRzSW5mb0l0ZW0pO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRnJpZW5kc0luZm9JdGVtKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjbGlja2VkOiBmYWxzZSxcbiAgICAgIHByb2ZpbGU6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhGcmllbmRzSW5mb0l0ZW0sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIF9heGlvcy5kZWZhdWx0LmdldCh1c2VyX3Byb2ZpbGVfZmV0Y2hpbmdfdXJsLCB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLmZyaWVuZF91c2VybmFtZVxuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIHByb2ZpbGU6IHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJvZmlsZSA9IHRoaXMuc3RhdGUucHJvZmlsZTtcblxuICAgICAgaWYgKHByb2ZpbGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiAnZnJpZW5kc0luZm9JdGVtXycgKyBwcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICBjbGFzc05hbWU6ICdmcmllbmRzSW5mb0l0ZW1fY2FyZCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjbGlja2VkOiAhX3RoaXMzLnN0YXRlLmNsaWNrZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIHByb2ZpbGUudXNlcm5hbWUpKSwgdGhpcy5zdGF0ZS5jbGlja2VkID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2ZyaWVuZHNJbmZvSXRlbV9saXN0J1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnZnJpZW5kc0luZm9JdGVtX2xpc3RfZmxleCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkdFwiLCBudWxsLCBcIlN1Ym1pdHRlZCBTb2x1dGlvbnNcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkZFwiLCBudWxsLCBwcm9maWxlLmNvcnJlY3RRdWVzdGlvbkNvdW50KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImR0XCIsIG51bGwsIFwiVXBsb2FkZWQgUXVlc3Rpb25zXCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGRcIiwgbnVsbCwgcHJvZmlsZS51cGxvYWRRdWVzdGlvbkNvdW50KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImR0XCIsIG51bGwsIFwiVW5sb2NrZWQgSXRlbXNcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkZFwiLCBudWxsLCBwcm9maWxlLml0ZW1zLmxlbmd0aCkpKSA6IG51bGwpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRnJpZW5kc0luZm9JdGVtO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIEZyaWVuZHNJbmZvID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICBfaW5oZXJpdHMoRnJpZW5kc0luZm8sIF9Db21wb25lbnQyKTtcblxuICBmdW5jdGlvbiBGcmllbmRzSW5mbyhwcm9wcykge1xuICAgIHZhciBfdGhpczQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnJpZW5kc0luZm8pO1xuXG4gICAgX3RoaXM0ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEZyaWVuZHNJbmZvKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXM0LnN0YXRlID0ge1xuICAgICAgaXNfZm9sZDogdHJ1ZSxcbiAgICAgIHNlYXJjaF9zdHJpbmc6ICcnLFxuICAgICAgc2hvd19lcnJvcjogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBfdGhpczQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRnJpZW5kc0luZm8sIFt7XG4gICAga2V5OiBcImFkZEZyaWVuZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRnJpZW5kcygpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICBfYXhpb3MuZGVmYXVsdC5wb3N0KGFkZF9mcmllbmRfdXJsLCB7XG4gICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLmN1cnJlbnRfdXNlcixcbiAgICAgICAgc2VhcmNoX3N0cmluZzogdGhpcy5zdGF0ZS5zZWFyY2hfc3RyaW5nXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tc2cgIT09ICdTdWNjZXNzJykge1xuICAgICAgICAgIF90aGlzNS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93X2Vycm9yOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXM1LnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNob3dfZXJyb3I6IGZhbHNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpczUucHJvcHMudXBkYXRpbmdfcHJvZmlsZShyZXNwb25zZS5kYXRhLnVzZXJQcm9maWxlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMucHJvcHMucHJvZmlsZS5mcmllbmRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBmcmllbmQgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICBhcnIucHVzaChfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRnJpZW5kc0luZm9JdGVtLCB7XG4gICAgICAgICAgICBmcmllbmRfdXNlcm5hbWU6IGZyaWVuZFxuICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmcmllbmRzX2FyciA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdmcmllbmRzSW5mb0l0ZW1fZmxleCdcbiAgICAgIH0sIGFycik7XG5cbiAgICAgIHZhciBhZGRfZnJpZW5kcyA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFwiQWRkIGZyaWVuZHMgYnkgSUQvVXNlcm5hbWVcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc2VhcmNoX3N0cmluZyxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2LnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlYXJjaF9zdHJpbmc6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2LmFkZEZyaWVuZHMoKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJTdWJtaXRcIiksIHRoaXMuc3RhdGUuc2hvd19lcnJvciA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIsIG51bGwsIFwiRmFpbGVkIHRvIGFkZCBmcmllbmRzIVwiKSA6IG51bGwpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ0ZyaWVuZHNJbmZvX2NvbnRlbnQnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJGcmllbmRzICBcIiwgdGhpcy5zdGF0ZS5pc19mb2xkID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dSaWdodCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dEb3duLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNfZm9sZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSksIHRoaXMuc3RhdGUuaXNfZm9sZCA/IG51bGwgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIGFkZF9mcmllbmRzLCBmcmllbmRzX2FycikpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGcmllbmRzSW5mbztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBJdGVtc0luZm8gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQzKSB7XG4gIF9pbmhlcml0cyhJdGVtc0luZm8sIF9Db21wb25lbnQzKTtcblxuICBmdW5jdGlvbiBJdGVtc0luZm8ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM3O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW1zSW5mbyk7XG5cbiAgICBfdGhpczcgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoSXRlbXNJbmZvKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXM3LnN0YXRlID0ge1xuICAgICAgaXNfZm9sZDogdHJ1ZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzNztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJdGVtc0luZm8sIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIHByb2ZpbGUgPSB0aGlzLnByb3BzLnByb2ZpbGU7XG4gICAgICB2YXIgYXJyID0gW107XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHByb2ZpbGUuaXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICBhcnIucHVzaChfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgaXRlbSkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdJdGVtc0luZm9fY29udGVudCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkFjaGlldmVtZW50cyBcIiwgdGhpcy5zdGF0ZS5pc19mb2xkID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dSaWdodCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM4LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dEb3duLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczguc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNfZm9sZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSksIHRoaXMuc3RhdGUuaXNfZm9sZCA/IG51bGwgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnSXRlbXNJbmZvX2ZsZXgnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnSXRlbXNJbmZvX2Jsb2NrJ1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiWW91IGhhdmUgZUJ1Y2tzIGxlZnQ6XCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIiRcIiwgcHJvZmlsZS5lQnVja3MpKSwgcHJvZmlsZS5pdGVtcy5sZW5ndGggPiAwID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ0l0ZW1zSW5mb19ibG9jaydcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWFyZ2luQm90dG9tOiAnMC41ZW0nXG4gICAgICAgIH1cbiAgICAgIH0sIFwiWW91IGhhdmUgdW5sb2NrZWQgdGhvc2UgaXRlbXM6XCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6ICc1ZW0nLFxuICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCBhcnIpKSkgOiBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnSXRlbXNJbmZvX2Jsb2NrJ1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiWW91ciBhcmUgY3VycmVudGx5IGF0IGxldmVsOlwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgcHJvZmlsZS5sZXZlbCkpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEl0ZW1zSW5mbztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDb3VudHNJbmZvID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50NCkge1xuICBfaW5oZXJpdHMoQ291bnRzSW5mbywgX0NvbXBvbmVudDQpO1xuXG4gIGZ1bmN0aW9uIENvdW50c0luZm8ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM5O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvdW50c0luZm8pO1xuXG4gICAgX3RoaXM5ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvdW50c0luZm8pLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpczkuc3RhdGUgPSB7XG4gICAgICBpc19mb2xkOiB0cnVlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM5O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvdW50c0luZm8sIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9maWxlID0gdGhpcy5wcm9wcy5wcm9maWxlO1xuICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdDb3VudHNJbmZvX2NvbnRlbnQnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJTdGF0aXN0aWNzIFwiLCB0aGlzLnN0YXRlLmlzX2ZvbGQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEZvbnRhd2Vzb21lLkZvbnRBd2Vzb21lSWNvbiwge1xuICAgICAgICBpY29uOiBfZnJlZVNvbGlkU3ZnSWNvbnMuZmFBcnJvd1JpZ2h0LFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEwLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dEb3duLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEwLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLCB0aGlzLnN0YXRlLmlzX2ZvbGQgPyBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ0NvdW50c0luZm9fZmxleCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdDb3VudHNJbmZvX2Jsb2NrJ1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiWW91IGhhdmUgc3VibWl0dGVkIGFuc3dlcnM6XCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBwcm9maWxlLmNvcnJlY3RRdWVzdGlvbkNvdW50KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdDb3VudHNJbmZvX2Jsb2NrJ1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiWW91IGhhdmUgbWFkZSBjb21tZW50czpcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHByb2ZpbGUuY29tbWVudENvdW50KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdDb3VudHNJbmZvX2Jsb2NrJ1xuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiWW91IGhhdmUgdXBsb2FkZWQgcXVlc3Rpb25zOlwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgcHJvZmlsZS51cGxvYWRRdWVzdGlvbkNvdW50KSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ291bnRzSW5mbztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBVc2VyQmFzaWNJbmZvID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50NSkge1xuICBfaW5oZXJpdHMoVXNlckJhc2ljSW5mbywgX0NvbXBvbmVudDUpO1xuXG4gIGZ1bmN0aW9uIFVzZXJCYXNpY0luZm8ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXMxMTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyQmFzaWNJbmZvKTtcblxuICAgIF90aGlzMTEgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoVXNlckJhc2ljSW5mbykuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIF90aGlzMTEuc3RhdGUgPSB7XG4gICAgICBkaXNwbGF5U2V0dGluZ3M6IGZhbHNlLFxuICAgICAgbmV3UGFzc3dvcmQ6ICcnLFxuICAgICAgbmV3RW1haWw6ICcnXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXMxMTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhVc2VyQmFzaWNJbmZvLCBbe1xuICAgIGtleTogXCJoYW5kbGVTZXR0aW5nU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNldHRpbmdTdWJtaXQoKSB7XG4gICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7XG5cbiAgICAgIF9heGlvcy5kZWZhdWx0LnBvc3QodXNlcl9wcm9maWxlX3VwZGF0aW5nX3VybCwge1xuICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5uZXdQYXNzd29yZCxcbiAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUubmV3RW1haWwsXG4gICAgICAgIHVzZXJfaWQ6IHRoaXMucHJvcHMucHJvZmlsZS5pZFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXMxMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlzcGxheVNldHRpbmdzOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoX3RoaXMxMi5zdGF0ZS5uZXdFbWFpbCAhPT0gJycpIHtcbiAgICAgICAgICBfdGhpczEyLnByb3BzLnVwZGF0aW5nX2VtYWlsKF90aGlzMTIuc3RhdGUubmV3RW1haWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczEzID0gdGhpcztcblxuICAgICAgdmFyIHByb2ZpbGUgPSB0aGlzLnByb3BzLnByb2ZpbGU7XG4gICAgICBjb25zb2xlLmxvZyhwcm9maWxlLnVzZXJQaWNTb3VyY2UpO1xuICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdVc2VyQmFzaWNJbmZvX2NvbnRlbnQnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCJQcm9maWxlXCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdydcbiAgICAgICAgfVxuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgb3JkZXI6ICcxJyxcbiAgICAgICAgICBtYXJnaW5SaWdodDogJzFlbScsXG4gICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICAgICAgfVxuICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG4gICAgICAgIH1cbiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBtYXhXaWR0aDogJzVlbScsXG4gICAgICAgICAgbWF4SGVpZ2h0OiAnNWVtJyxcbiAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDAgMC4yZW0gZ3JleSdcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiAnVXNlckJhc2ljSW5mb19pbWcnLFxuICAgICAgICBzcmM6IHByb2ZpbGUudXNlclBpY1NvdXJjZSxcbiAgICAgICAgYWx0OiBwcm9maWxlLnVzZXJuYW1lXG4gICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9yZGVyOiAnMidcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy5zdGF0ZS5kaXNwbGF5U2V0dGluZ3MgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6ICdVc2VyQmFzaWNJbmZvX2NoYW5nZU1TRydcbiAgICAgIH0sIFwiTGVhdmUgYmxhbmsgYW55IGlucHV0IHlvdSBkb24ndCB3YW50IHRvIGNoYW5nZVwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGtleTogJ1VzZXJCYXNpY0luZm9fY2hhbmdlUEFTU1dPUkQnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgICAgICBodG1sRm9yOiAnc2V0dGluZ3NfcGFzc3dvcmQnXG4gICAgICB9LCBcIkNoYW5nZSBQYXNzd29yZFwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgaWQ6ICdzZXR0aW5nc19wYXNzd29yZCcsXG4gICAgICAgIGtleTogJ3NldHRpbmdzX3Bhc3N3b3JkJyxcbiAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubmV3UGFzc3dvcmQsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbmV3UGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGtleTogJ1VzZXJCYXNpY0luZm9fY2hhbmdlRU1BSUwnXG4gICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgICAgICBodG1sRm9yOiAnc2V0dGluZ3NfZW1haWwnXG4gICAgICB9LCBcIkNoYW5nZSBFbWFpbFwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgaWQ6ICdzZXR0aW5nc19lbWFpbCcsXG4gICAgICAgIGtleTogJ3NldHRpbmdzX2VtYWlsJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5uZXdFbWFpbCxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBuZXdFbWFpbDogZS50YXJnZXQudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAga2V5OiAnVXNlckJhc2ljSW5mb19jaGFuZ2VTVUJNSVQnLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEzLmhhbmRsZVNldHRpbmdTdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJTdWJtaXRcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRpc3BsYXlTZXR0aW5nczogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJCYWNrXCIpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgzXCIsIHtcbiAgICAgICAga2V5OiAnVXNlckJhc2ljSW5mb191c2VybmFtZSdcbiAgICAgIH0sIHByb2ZpbGUudXNlcm5hbWUpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwge1xuICAgICAgICBrZXk6ICdVc2VyQmFzaWNJbmZvX3VzZXJlbWFpbCdcbiAgICAgIH0sIHByb2ZpbGUudXNlckVtYWlsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIGtleTogJ1VzZXJCYXNpY0luZm9fY2hhbmdlQlROJyxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkaXNwbGF5U2V0dGluZ3M6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJDaGFuZ2UgRW1haWwgb3IgUGFzc3dvcmRcIikpKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVc2VyQmFzaWNJbmZvO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFByZWZlcmVuY2VJbmZvID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50Nikge1xuICBfaW5oZXJpdHMoUHJlZmVyZW5jZUluZm8sIF9Db21wb25lbnQ2KTtcblxuICBmdW5jdGlvbiBQcmVmZXJlbmNlSW5mbyhwcm9wcykge1xuICAgIHZhciBfdGhpczE0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByZWZlcmVuY2VJbmZvKTtcblxuICAgIF90aGlzMTQgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUHJlZmVyZW5jZUluZm8pLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpczE0LnN0YXRlID0ge1xuICAgICAgY3VycmVudF9mb250OiAnZGVmYXVsdCcsXG4gICAgICBjdXJyZW50X3RoZW1lOiAnZGVmYXVsdCcsXG4gICAgICBpc19mb2xkOiB0cnVlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXMxNDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQcmVmZXJlbmNlSW5mbywgW3tcbiAgICBrZXk6IFwiY2hhbmdlRm9udFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VGb250KCkge1xuICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jdXJyZW50X2ZvbnQpO1xuXG4gICAgICBfYXhpb3MuZGVmYXVsdC5wb3N0KGNoYW5nZV9mb250X3VybCwge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICBuZXdfZm9udDogdGhpcy5zdGF0ZS5jdXJyZW50X2ZvbnRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VUaGVtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VUaGVtZSgpIHtcbiAgICAgIF9heGlvcy5kZWZhdWx0LnBvc3QoY2hhbmdlX3RoZW1lX3VybCwge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICBuZXdfdGhlbWU6IHRoaXMuc3RhdGUuY3VycmVudF90aGVtZVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9maWxlID0gdGhpcy5wcm9wcy5wcm9maWxlO1xuICAgICAgdmFyIGFsbF90aGVtZXMgPSBwcm9maWxlLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX2ZvbnRzQW5kVGhlbWVzLlRoZW1lcy5pbmNsdWRlcyhpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGFsbF9mb250cyA9IHByb2ZpbGUuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfZm9udHNBbmRUaGVtZXMuRm9udHMuaW5jbHVkZXMoaXRlbSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBmb250c19hcnIgPSBhbGxfZm9udHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICB9LCBpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgZm9udHNfYXJyLnVuc2hpZnQoX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICAgIHZhbHVlOiAnZGVmYXVsdCdcbiAgICAgIH0sICdkZWZhdWx0JykpO1xuICAgICAgdmFyIHRoZW1lc19hcnIgPSBhbGxfdGhlbWVzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSwgaXRlbSk7XG4gICAgICB9KTtcbiAgICAgIHRoZW1lc19hcnIudW5zaGlmdChfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgICAgdmFsdWU6ICdkZWZhdWx0J1xuICAgICAgfSwgJ2RlZmF1bHQnKSk7XG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ1ByZWZlcmVuY2VzUGFuZWxfY29udGVudCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlByZWZlcmVuY2VzIFwiLCB0aGlzLnN0YXRlLmlzX2ZvbGQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEZvbnRhd2Vzb21lLkZvbnRBd2Vzb21lSWNvbiwge1xuICAgICAgICBpY29uOiBfZnJlZVNvbGlkU3ZnSWNvbnMuZmFBcnJvd1JpZ2h0LFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE1LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RGb250YXdlc29tZS5Gb250QXdlc29tZUljb24sIHtcbiAgICAgICAgaWNvbjogX2ZyZWVTb2xpZFN2Z0ljb25zLmZhQXJyb3dEb3duLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE1LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzX2ZvbGQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLCB0aGlzLnN0YXRlLmlzX2ZvbGQgPyBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIkFmdGVyIGNob29zaW5nIG5ldyBmb250cy90aGVtZXMsIHBsZWFzZSByZWZyZXNoIHlvdXIgcGFnZSFcIiksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgICAgICBodG1sRm9yOiAnUHJvZmlsZVBhbmVsX3NlbGVjdF9mb250cydcbiAgICAgIH0sIFwiQ2hhbmdlIGZvbnRzIGhlcmUhXCIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHtcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxNS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50X2ZvbnQ6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGlkOiAnUHJvZmlsZVBhbmVsX3NlbGVjdF9mb250cydcbiAgICAgIH0sIGZvbnRzX2FyciksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE1LmNoYW5nZUZvbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJTdWJtaXRcIikpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7XG4gICAgICAgIGh0bWxGb3I6ICdQcm9maWxlUGFuZWxfc2VsZWN0X3RoZW1lcydcbiAgICAgIH0sIFwiQ2hhbmdlIHRoZW1lcyBoZXJlIVwiKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY3VycmVudF90aGVtZTogZS50YXJnZXQudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaWQ6ICdQcm9maWxlUGFuZWxfc2VsZWN0X3RoZW1lcydcbiAgICAgIH0sIHRoZW1lc19hcnIpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxNS5jaGFuZ2VUaGVtZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBcIlN1Ym1pdFwiKSkpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByZWZlcmVuY2VJbmZvO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFByb2ZpbGVQYW5lbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudDcpIHtcbiAgX2luaGVyaXRzKFByb2ZpbGVQYW5lbCwgX0NvbXBvbmVudDcpO1xuXG4gIGZ1bmN0aW9uIFByb2ZpbGVQYW5lbChwcm9wcykge1xuICAgIHZhciBfdGhpczE2O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2ZpbGVQYW5lbCk7XG5cbiAgICBfdGhpczE2ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFByb2ZpbGVQYW5lbCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIF90aGlzMTYuc3RhdGUgPSB7XG4gICAgICB1c2VyX3Byb2ZpbGU6IG5ldyBVc2VyUHJvZmlsZSgpXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXMxNjtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQcm9maWxlUGFuZWwsIFt7XG4gICAga2V5OiBcInVwZGF0aW5nRW1haWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRpbmdFbWFpbChuZXdFbWFpbCkge1xuICAgICAgdmFyIHByZXZfcHJvZmlsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS51c2VyX3Byb2ZpbGUpKTtcbiAgICAgIHByZXZfcHJvZmlsZS51c2VyRW1haWwgPSBuZXdFbWFpbDtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB1c2VyX3Byb2ZpbGU6IHByZXZfcHJvZmlsZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMTcgPSB0aGlzO1xuXG4gICAgICB2YXIgdXNlciA9IHRoaXMucHJvcHMudXNlcjtcblxuICAgICAgX2F4aW9zLmRlZmF1bHQuZ2V0KHVzZXJfcHJvZmlsZV9mZXRjaGluZ191cmwsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgcHJvZmlsZSBpcyAnLCByZXNwb25zZS5kYXRhKTtcblxuICAgICAgICBfdGhpczE3LnNldFN0YXRlKHtcbiAgICAgICAgICB1c2VyX3Byb2ZpbGU6IHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUHJvZmlsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKGZyaWVuZHNfcHJvZmlsZSkge1xuICAgICAgdmFyIHByZXZfdXNlcl9wcm9maWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLnVzZXJfcHJvZmlsZSkpO1xuICAgICAgcHJldl91c2VyX3Byb2ZpbGUuZnJpZW5kcy5wdXNoKGZyaWVuZHNfcHJvZmlsZS51c2VybmFtZSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdXNlcl9wcm9maWxlOiBwcmV2X3VzZXJfcHJvZmlsZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7XG5cbiAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6ICdQcm9maWxlUGFuZWxfY29udGVudCdcbiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVXNlckJhc2ljSW5mbywge1xuICAgICAgICBwcm9maWxlOiB0aGlzLnN0YXRlLnVzZXJfcHJvZmlsZSxcbiAgICAgICAgdXBkYXRpbmdfZW1haWw6IGZ1bmN0aW9uIHVwZGF0aW5nX2VtYWlsKHZhbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE4LnVwZGF0aW5nRW1haWwodmFsKTtcbiAgICAgICAgfVxuICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ291bnRzSW5mbywge1xuICAgICAgICBwcm9maWxlOiB0aGlzLnN0YXRlLnVzZXJfcHJvZmlsZVxuICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSXRlbXNJbmZvLCB7XG4gICAgICAgIHByb2ZpbGU6IHRoaXMuc3RhdGUudXNlcl9wcm9maWxlXG4gICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGcmllbmRzSW5mbywge1xuICAgICAgICB1cGRhdGluZ19wcm9maWxlOiBmdW5jdGlvbiB1cGRhdGluZ19wcm9maWxlKGZyaWVuZF9wcm9maWxlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTgudXBkYXRlUHJvZmlsZShmcmllbmRfcHJvZmlsZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRfdXNlcjogdXNlcixcbiAgICAgICAgcHJvZmlsZTogdGhpcy5zdGF0ZS51c2VyX3Byb2ZpbGVcbiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFByZWZlcmVuY2VJbmZvLCB7XG4gICAgICAgIHByb2ZpbGU6IHRoaXMuc3RhdGUudXNlcl9wcm9maWxlXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByb2ZpbGVQYW5lbDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb2ZpbGVQYW5lbDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvZmlsZVBhbmVsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///63\n')}}]);